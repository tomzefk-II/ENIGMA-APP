<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8">
    <title>Hello World!</title>
    <!-- <meta http-equiv="Content-Security-Policy" content="script-src 'self' 'unsafe-inline';" /> -->
    <link href="styles/styles.css" rel="stylesheet" type="text/css">
    <link href="node_modules/bootstrap/dist/css/bootstrap.min.css" rel="stylesheet" type="text/css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/crypto-js/4.0.0/crypto-js.min.js"></script>
    <link rel="preconnect" href="https://fonts.gstatic.com">
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@300;400;700&display=swap" rel="stylesheet">
    <script src="js/app.js"></script>
    <style media="screen">
    body, html {
      overflow: hidden;
      position: relative;
      height: 100%;
      background-color: #161616;
    }
    </style>
  </head>
  <body>
    <div class="app-menu">
      <h5 class="app-title">ENIGMA Launcher</h5>
      <div class="action-btns">
        <svg id="minimize-btn" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="white" width="18px" height="18px"><path d="M0 0h24v24H0V0z" fill="none"/><path d="M6 19h12v2H6v-2z"/></svg>
        <div id="maximize-btn" class=""></div>
        <svg id="close-btn" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="white" width="18px" height="18px"><path d="M0 0h24v24H0V0z" fill="none"/><path d="M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41z"/></svg>
      </div>
    </div>

    <form method="post" id="loginForm">
      <h1 id="formTitle">REGISTER</h1>
      <div id="inputWrapper">
        <div>
          <h4 class="mb-0">Username</h4>
          <input id="usernameInput" class="loginInputs" type="text" name="username" value="" minlength="6" maxlength="12" required disabled autocomplete="off">
          <p id="usernameError" class="mt-2" style="color: var(--error); font-size: var(--minText);"></p>
        </div>
        <br>
        <div>
          <h4 class="mb-0">Password</h4>
          <input id="passwordInput" class="loginInputs" type="password" name="password" value="" minlength="6" required disabled autocomplete="off">
          <p id="passwordError" class="mt-2" style="color: var(--error);  font-size: var(--minText);"></p>
        </div>
        <input class="formButtons submitForm" type="button" name="" value="" id="" disabled>
        <p id="submitError" class="mt-2" style="color: var(--error);  font-size: var(--minText);"></p>
        <p id="accText" class="mt-4 text-grey" data-type=""></p> <!-- Do not have an account? Register here / Already have an account? Login here -->
        <br>
      </div>
    </form>

    <script>

    $(document).ready(function(){

      connection.connect(function(err) {
        if(err){
          console.log("Disconnected!");
          checkingPlayerInfo(false);
          throw err;
        }
        console.log("Connected!");
        checkingPlayerInfo(true);
      });

      $("#close-btn").click(function(){
        window.close();
      })
    })

    goToHome = function(){
      setTimeout(function(){
        const { ipcRenderer } = require('electron');
        ipcRenderer.send('open_home')
        setTimeout(function(){
          window.close();
        },500)
      },1500)
    }



    </script>
  </body>
</html>
